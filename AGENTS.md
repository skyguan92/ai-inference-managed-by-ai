# AI Agent å¼€å‘æŒ‡å—

> æœ¬é¡¹ç›® 100% ç”± AI Coding Agent å¼€å‘ï¼Œæ— äººç±»å·¥ç¨‹å¸ˆå‚ä¸ä»£ç ç¼–å†™ã€‚
> æœ¬æ–‡æ¡£æ˜¯æ‰€æœ‰ AI Agent å¿…é¡»éµå¾ªçš„å¼€å‘å‡†åˆ™ã€‚

---

## 1. é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: ai-inference-managed-by-ai (AIMA)
**æ ¸å¿ƒç›®æ ‡**: è®© AI ç®¡ç†çš„ AI æ¨ç†åŸºç¡€è®¾æ–½
**æ¶æ„é£æ ¼**: åŸå­å•å…ƒ + ç¼–æ’å±‚

### æ ¸å¿ƒè®¾è®¡ç†å¿µ
- **ä¸€åˆ‡çš†åŸå­æœåŠ¡** - æ‰€æœ‰åŠŸèƒ½æ‹†åˆ†ä¸º Command/Query/Event/Resource
- **ç»Ÿä¸€å…¥å£** - HTTP/MCP/CLI å…±äº«åŸå­å•å…ƒ
- **AI First** - æ¥å£è®¾è®¡ä¼˜å…ˆè€ƒè™‘ AI Agent å¯ç†è§£æ€§

### å…³é”®æ–‡æ¡£
| æ–‡æ¡£ | è¯´æ˜ | ä¼˜å…ˆçº§ |
|------|------|--------|
| `docs/ARCHITECTURE.md` | æ¶æ„è®¾è®¡ï¼ˆé”å®šï¼‰ | å¿…è¯» |
| `docs/reference/migration/analysis.md` | ASMS è¿ç§»åˆ†æ | æ¨è |
| `docs/reference/migration/domain-mapping.md` | é¢†åŸŸæ˜ å°„è¡¨ | æ¨è |
| `docs/reference/domain/{domain}.md` | é¢†åŸŸè¯¦ç»†è®¾è®¡ | æŒ‰éœ€ |

---

## 2. æ ¸å¿ƒåŸåˆ™

### 2.1 æ‰§è¡ŒåŸåˆ™
| åŸåˆ™ | è¯´æ˜ |
|------|------|
| å®Œå…¨è‡ªä¸» | AI Agent å¯è‡ªä¸»å®Œæˆè®¾è®¡ã€å®ç°ã€æµ‹è¯•ã€æäº¤ |
| æŒç»­å°è¯• | é‡åˆ°é”™è¯¯æ—¶å°è¯•å¤šç§æ–¹æ³•ï¼Œç›´åˆ°æˆåŠŸæˆ–ç©·å°½æ‰€æœ‰å¯èƒ½ |
| åŠŸèƒ½å•å…ƒæäº¤ | å®Œæˆä¸€ä¸ªå®Œæ•´åŠŸèƒ½å•å…ƒåæ‰åˆ›å»º Git commit |

### 2.2 è´¨é‡åŸåˆ™
| åŸåˆ™ | è¯´æ˜ |
|------|------|
| ä»£ç å®¡æŸ¥å¼ºåˆ¶ | æ¯ä¸ªåŠŸèƒ½å®Œæˆåå¿…é¡»ç»è¿‡ç‹¬ç«‹æ¨¡å‹å®¡æŸ¥ |
| æµ‹è¯•è¦†ç›–å¼ºåˆ¶ | æ ¸å¿ƒæ¨¡å— TDDï¼Œéæ ¸å¿ƒæ¨¡å—åç½®æµ‹è¯• |
| å…³é”®æ³¨é‡Š | åªå¯¹å¤æ‚é€»è¾‘å’Œæ¥å£æ·»åŠ æ³¨é‡Š |

---

## 3. æ¶æ„è§„èŒƒ

### 3.1 å››ç§åŸå­å•å…ƒæ¥å£

```go
// Command - æœ‰å‰¯ä½œç”¨çš„æ“ä½œ
type Command interface {
    Name() string
    Domain() string
    InputSchema() Schema
    OutputSchema() Schema
    Execute(ctx context.Context, input any) (output any, err error)
}

// Query - æ— å‰¯ä½œç”¨çš„æŸ¥è¯¢
type Query interface {
    Name() string
    Domain() string
    InputSchema() Schema
    OutputSchema() Schema
    Execute(ctx context.Context, input any) (output any, err error)
}

// Event - å¼‚æ­¥äº‹ä»¶
type Event interface {
    Type() string
    Domain() string
    Payload() any
    Timestamp() time.Time
    CorrelationID() string
}

// Resource - å¯å¯»å€èµ„æº
type Resource interface {
    URI() string
    Domain() string
    Schema() Schema
    Get(ctx context.Context) (any, error)
    Watch(ctx context.Context) (<-chan ResourceUpdate, error)
}
```

### 3.2 å‘½åè§„èŒƒ

```
åŸå­å•å…ƒ: {domain}.{action}
ç¤ºä¾‹: model.pull, inference.chat, engine.start

æ–‡ä»¶å‘½å:
- Commands: pkg/unit/{domain}/commands.go
- Queries:  pkg/unit/{domain}/queries.go
- Events:   pkg/unit/{domain}/events.go
- Resources: pkg/unit/{domain}/resources.go
```

### 3.3 ç›®å½•ç»“æ„

```
pkg/
â”œâ”€â”€ unit/              # åŸå­å•å…ƒï¼ˆæ ¸å¿ƒ, 13 ä¸ªé¢†åŸŸï¼‰
â”‚   â”œâ”€â”€ types.go       # æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ registry.go    # æ³¨å†Œè¡¨
â”‚   â”œâ”€â”€ schema.go      # Schema å®šä¹‰
â”‚   â”œâ”€â”€ {domain}/      # 10 ä¸ªåŸæœ‰é¢†åŸŸå®ç°
â”‚   â”œâ”€â”€ catalog/       # ç¡¬ä»¶æœ€ä½³å®è·µ (Recipe ç®¡ç†)
â”‚   â”œâ”€â”€ agent/         # AI ä»£ç†æ“ä½œ
â”‚   â””â”€â”€ skill/         # æŠ€èƒ½çŸ¥è¯†åº“
â”œâ”€â”€ agent/             # AI Agent æ ¸å¿ƒå®ç°
â”‚   â”œâ”€â”€ llm/           # LLM å®¢æˆ·ç«¯ (Anthropic/OpenAI/Ollama)
â”‚   â””â”€â”€ skill/         # Skill åŠ è½½å’Œç®¡ç†
â”œâ”€â”€ catalog/           # Recipe ç®¡ç† (å†…ç½® YAML + åŒ¹é…ç®—æ³•)
â”œâ”€â”€ service/           # æœåŠ¡å±‚ï¼ˆèšåˆåŸå­å•å…ƒï¼‰
â”œâ”€â”€ workflow/          # ç¼–æ’å±‚
â”œâ”€â”€ gateway/           # ç»Ÿä¸€å…¥å£
â””â”€â”€ infra/             # åŸºç¡€è®¾æ–½
    â””â”€â”€ provider/
        â””â”€â”€ registry/  # Docker é•œåƒä»“åº“æŠ½è±¡
```

---

## 4. ä»£ç è§„èŒƒ

### 4.1 Go ä»£ç é£æ ¼

```go
// å¥½çš„å‘½å
func (c *PullCommand) Execute(ctx context.Context, input any) (any, error)

// æ¥å£å®šä¹‰æ”¾åœ¨æ–‡ä»¶é¡¶éƒ¨
type PullCommand struct { ... }

// å®ç°ç´§éšå…¶å
func (c *PullCommand) Execute(...) { ... }
```

### 4.2 æ³¨é‡Šè§„èŒƒ

åªåœ¨ä»¥ä¸‹æƒ…å†µæ·»åŠ æ³¨é‡Šï¼š
- å…¬å¼€çš„æ¥å£å’Œç»“æ„ä½“ï¼ˆgodoc æ ‡å‡†ï¼‰
- å¤æ‚ç®—æ³•çš„é€»è¾‘è¯´æ˜
- éæ˜¾è€Œæ˜“è§çš„ä¸šåŠ¡è§„åˆ™
- ä¸ ASMS å®ç°æœ‰å·®å¼‚çš„åœ°æ–¹

```go
// PullCommand ä»æŒ‡å®šæºæ‹‰å–æ¨¡å‹ã€‚
// æ”¯æŒçš„æº: ollama, huggingface, modelscope
type PullCommand struct {
    source    string    // æ¨¡å‹æº
    repo      string    // ä»“åº“åç§°
    ...
}
```

### 4.3 é”™è¯¯å¤„ç†

```go
// ä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯ç±»å‹
var (
    ErrModelNotFound = errors.New("model not found")
    ErrInvalidInput  = errors.New("invalid input")
)

// è¿”å›é”™è¯¯æ—¶åŒ…å«ä¸Šä¸‹æ–‡
if err != nil {
    return nil, fmt.Errorf("pull model %s: %w", repo, err)
}
```

---

## 5. æµ‹è¯•è§„èŒƒ

### 5.1 æµ‹è¯•ç­–ç•¥

| æ¨¡å—ç±»å‹ | æµ‹è¯•æ–¹å¼ | è¯´æ˜ |
|----------|----------|------|
| æ ¸å¿ƒæ¡†æ¶ (pkg/unit/types.go, registry.go) | TDD | å…ˆå†™æµ‹è¯• |
| åŸå­å•å…ƒå®ç° | TDD | å…ˆå†™æµ‹è¯• |
| æœåŠ¡å±‚ | åç½®æµ‹è¯• | åŠŸèƒ½å®Œæˆå |
| é€‚é…å™¨ | åç½®æµ‹è¯• | åŠŸèƒ½å®Œæˆå |
| å·¥å…·å‡½æ•° | TDD | å…ˆå†™æµ‹è¯• |

### 5.2 æµ‹è¯•æ–‡ä»¶å‘½å

```
pkg/unit/model/commands.go     -> pkg/unit/model/commands_test.go
pkg/unit/model/queries.go      -> pkg/unit/model/queries_test.go
```

### 5.3 æµ‹è¯•è¦†ç›–è¦æ±‚

| å±‚çº§ | æœ€ä½è¦†ç›–ç‡ |
|------|-----------|
| æ ¸å¿ƒæ¡†æ¶ | 80% |
| åŸå­å•å…ƒ | 70% |
| æœåŠ¡å±‚ | 60% |
| é€‚é…å™¨ | 50% |

### 5.4 æµ‹è¯•è¿è¡Œå‘½ä»¤

```bash
# è¿è¡Œå•ä¸ªåŒ…çš„æµ‹è¯•
go test ./pkg/unit/model/...

# è¿è¡Œå¸¦è¦†ç›–ç‡çš„æµ‹è¯•
go test -cover ./pkg/unit/...

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
go test ./...

# è¿è¡Œå¹¶æ˜¾ç¤ºè¯¦ç»†è¾“å‡º
go test -v ./pkg/unit/model/...
```

---

## 6. å·¥ä½œæµç¨‹

### 6.1 æ ‡å‡†å¼€å‘æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1.é˜…è¯»ä»»åŠ¡  â”‚ -> â”‚ 2.ç†è§£æ¶æ„  â”‚ -> â”‚ 3.æŸ¥çœ‹å‚è€ƒ  â”‚ -> â”‚ 4.å®ç°ä»£ç   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ 8.æäº¤ä»£ç   â”‚ <- â”‚ 7.å®¡æŸ¥é€šè¿‡  â”‚ <- â”‚ 6.ä»£ç å®¡æŸ¥  â”‚ <â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 åŠŸèƒ½å•å…ƒå®šä¹‰

ä¸€ä¸ªåŠŸèƒ½å•å…ƒåŒ…æ‹¬ï¼š
- 1 ä¸ªæˆ–å¤šä¸ªç›¸å…³çš„åŸå­å•å…ƒï¼ˆå¦‚ model.pull + model.verifyï¼‰
- å¯¹åº”çš„æµ‹è¯•æ–‡ä»¶
- å¿…è¦çš„æ–‡æ¡£æ›´æ–°
- å¼€å‘æ—¥å¿—è®°å½•

### 6.3 ä»»åŠ¡å¼€å§‹å‰æ£€æŸ¥æ¸…å•

```markdown
- [ ] å·²é˜…è¯» docs/ARCHITECTURE.md äº†è§£æ¶æ„
- [ ] å·²é˜…è¯» docs/reference/domain/{domain}.md äº†è§£é¢†åŸŸè®¾è®¡
- [ ] å·²æŸ¥çœ‹ docs/reference/migration/domain-mapping.md äº†è§£ ASMS æ˜ å°„
- [ ] å·²æ£€æŸ¥ .ai/development-log/ æ˜¯å¦æœ‰ç›¸å…³çš„å¼€å‘æ—¥å¿—
```

### 6.4 åŠŸèƒ½å®Œæˆåæ£€æŸ¥æ¸…å•

```markdown
- [ ] ä»£ç ç¬¦åˆæ¶æ„è§„èŒƒ
- [ ] æµ‹è¯•å·²ç¼–å†™å¹¶é€šè¿‡
- [ ] å·²è¿è¡Œ `go vet` å’Œ `go fmt`
- [ ] å·²åˆ›å»ºå¼€å‘æ—¥å¿—
- [ ] å·²æäº¤ä»£ç å®¡æŸ¥è¯·æ±‚
```

---

## 7. æ¨¡å‹åˆ†å·¥æŒ‡å—

### 7.1 ä»»åŠ¡åˆ†å±‚

| ä»»åŠ¡ç±»å‹ | æ¨èæ¨¡å‹ | è¯´æ˜ |
|----------|----------|------|
| æ¶æ„è®¾è®¡ | Claude/GPT-4/GLM-5 | å¤æ‚å†³ç­– |
| æ ¸å¿ƒæ¡†æ¶ | Claude/GLM-5 | é«˜è´¨é‡è¦æ±‚ |
| åŸå­å•å…ƒå®ç° | MiniMax/Kimi | æ€§ä»·æ¯”ä¼˜å…ˆ |
| æµ‹è¯•ç¼–å†™ | MiniMax/Kimi | æ ‡å‡†åŒ–å·¥ä½œ |
| **ä»£ç å®¡æŸ¥** | **GLM-5/Claude** | é«˜æ ‡å‡†è¦æ±‚ |
| æ–‡æ¡£ç¼–å†™ | ä»»æ„ | æ ‡å‡†åŒ–å·¥ä½œ |

### 7.2 èƒ½åŠ›åŒ¹é…åŸåˆ™

| ä»»åŠ¡ç‰¹å¾ | æ¨èæ¨¡å‹ç±»å‹ |
|----------|--------------|
| å¤æ‚æ¨ç† | Claude/GLM-5 |
| å¤§é‡ä»£ç ç”Ÿæˆ | MiniMax/Kimi |
| å¿«é€Ÿæ¢ç´¢ | MiniMax |
| è´¨é‡ä¿è¯ | Claude/GLM-5 |

### 7.3 çµæ´»é…ç½®

æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´æ¨¡å‹åˆ†å·¥ï¼Œä»¥å®Œæˆç›®æ ‡ä¸ºä¼˜å…ˆã€‚
æœ¬æŒ‡å—æä¾›æ¨èï¼Œä¸å¼ºåˆ¶ç»‘å®šç‰¹å®šæ¨¡å‹ã€‚

---

## 8. ä»£ç å®¡æŸ¥æœºåˆ¶

### 8.1 å®¡æŸ¥æ—¶æœº

- **åŠŸèƒ½å•å…ƒå®Œæˆå**ç«‹å³å®¡æŸ¥
- ä¸åœ¨ä»£ç ç¼–å†™è¿‡ç¨‹ä¸­å®¡æŸ¥
- å®¡æŸ¥æ¨¡å‹åº”ä¸å®ç°æ¨¡å‹ä¸åŒ

### 8.2 å®¡æŸ¥æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®ç°æ¨¡å‹      â”‚ -> â”‚ åˆ›å»ºå®¡æŸ¥è¯·æ±‚æ—¥å¿—  â”‚ -> â”‚ å®¡æŸ¥æ¨¡å‹é˜…è¯»ä»£ç   â”‚
â”‚ å®ŒæˆåŠŸèƒ½      â”‚    â”‚                   â”‚    â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚ åˆå¹¶æˆ–é€€å›    â”‚ <- â”‚ ç»™å‡ºå®¡æŸ¥æ„è§      â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 å®¡æŸ¥æ¨¡å‹

**æ¨è**: GLM-5 æˆ– Claude

å®¡æŸ¥æ¨¡å‹åº”å…·å¤‡ï¼š
- è¾ƒå¼ºçš„ä»£ç ç†è§£èƒ½åŠ›
- å¯¹æ¶æ„è®¾è®¡çš„ç†è§£
- å‘ç°æ½œåœ¨é—®é¢˜çš„èƒ½åŠ›

### 8.4 å®¡æŸ¥æ¸…å•

```markdown
- [ ] ä»£ç ç¬¦åˆæ¶æ„è®¾è®¡ï¼ˆdocs/ARCHITECTURE.mdï¼‰
- [ ] æ¥å£å®ç°å®Œæ•´ï¼ˆæ‰€æœ‰æ–¹æ³•éƒ½æœ‰å®ç°ï¼‰
- [ ] é”™è¯¯å¤„ç†æ­£ç¡®ï¼ˆä¸åæ‰é”™è¯¯ï¼Œæœ‰ä¸Šä¸‹æ–‡ï¼‰
- [ ] æµ‹è¯•è¦†ç›–å……åˆ†ï¼ˆè¾¾åˆ°æœ€ä½è¦†ç›–ç‡è¦æ±‚ï¼‰
- [ ] å‘½åè§„èŒƒä¸€è‡´ï¼ˆç¬¦åˆ Go å‘½åæƒ¯ä¾‹ï¼‰
- [ ] æ— å®‰å…¨æ¼æ´ï¼ˆè¾“å…¥éªŒè¯ã€æ•æ„Ÿä¿¡æ¯å¤„ç†ï¼‰
```

### 8.5 å®¡æŸ¥ç»“æœ

| ç»“æœ | è¯´æ˜ | åç»­åŠ¨ä½œ |
|------|------|----------|
| é€šè¿‡ | ä»£ç è´¨é‡è¾¾æ ‡ | å¯ä»¥æäº¤ |
| éœ€ä¿®æ”¹ | æœ‰å°é—®é¢˜ | ä¿®æ”¹åé‡æ–°å®¡æŸ¥ |
| é€€å› | é‡å¤§é—®é¢˜ | éœ€è¦é‡æ–°è®¾è®¡ |

---

## 9. æ—¥å¿—å’Œä¸Šä¸‹æ–‡ä¼ é€’

### 9.1 æ—¥å¿—ä½ç½®

```
.ai/development-log/
â”œâ”€â”€ 2026-02-16-model-domain-implementation.md
â”œâ”€â”€ 2026-02-17-engine-adapter-refactor.md
â”œâ”€â”€ 2026-02-18-gateway-http-adapter.md
â””â”€â”€ ...
```

### 9.2 æ—¥å¿—æ ¼å¼æ¨¡æ¿

```markdown
# [æ—¥æœŸ] [ä»»åŠ¡åç§°]

## å…ƒä¿¡æ¯
- å¼€å§‹æ—¶é—´: YYYY-MM-DD HH:MM
- å®Œæˆæ—¶é—´: YYYY-MM-DD HH:MM
- å®ç°æ¨¡å‹: [æ¨¡å‹åç§°]
- å®¡æŸ¥æ¨¡å‹: [æ¨¡å‹åç§°]

## ä»»åŠ¡æ¦‚è¿°
- **ç›®æ ‡**: [å…·ä½“ç›®æ ‡]
- **èŒƒå›´**: [æ¶‰åŠçš„æ¨¡å—/æ–‡ä»¶]
- **ä¼˜å…ˆçº§**: P0/P1/P2

## è®¾è®¡å†³ç­–
| å†³ç­–ç‚¹ | é€‰æ‹© | ç†ç”± |
|--------|------|------|
| [å†³ç­–1] | [é€‰æ‹©] | [åŸå› ] |
| [å†³ç­–2] | [é€‰æ‹©] | [åŸå› ] |

## å®ç°æ‘˜è¦
### æ–°å¢æ–‡ä»¶
- `pkg/unit/model/commands.go` - Model åŸŸå‘½ä»¤å®ç°
- `pkg/unit/model/commands_test.go` - æµ‹è¯•æ–‡ä»¶

### ä¿®æ”¹æ–‡ä»¶
- `pkg/unit/registry.go` - æ³¨å†Œ model å‘½ä»¤

### å…³é”®ä»£ç 
- `PullCommand.Execute()` - å®ç°æ¨¡å‹æ‹‰å–é€»è¾‘
- `Registry.Register()` - æ³¨å†Œå‘½ä»¤åˆ°æ³¨å†Œè¡¨

## æµ‹è¯•ç»“æœ
```bash
$ go test ./pkg/unit/model/... -cover
ok      github.com/jguan/ai-inference-managed-by-ai/pkg/unit/model    0.123s    coverage: 75.2%
```

## é‡åˆ°çš„é—®é¢˜
1. **é—®é¢˜**: [é—®é¢˜æè¿°]
   **è§£å†³**: [è§£å†³æ–¹æ¡ˆ]

## ä»£ç å®¡æŸ¥
- **å®¡æŸ¥æ¨¡å‹**: GLM-5 / Claude
- **å®¡æŸ¥æ—¶é—´**: YYYY-MM-DD HH:MM
- **å®¡æŸ¥ç»“æœ**: é€šè¿‡ / éœ€ä¿®æ”¹
- **å®¡æŸ¥æ„è§**: 
  - [æ„è§1]
  - [æ„è§2]

## æäº¤ä¿¡æ¯
- **Commit**: abc1234
- **Message**: feat(model): implement model.pull command

## åç»­ä»»åŠ¡
- [ ] [ä¸‹ä¸€æ­¥ä»»åŠ¡1]
- [ ] [ä¸‹ä¸€æ­¥ä»»åŠ¡2]
```

### 9.3 æ—¥å¿—å‘½åè§„èŒƒ

```
{æ—¥æœŸ}-{ç®€çŸ­ä»»åŠ¡æè¿°}.md

ç¤ºä¾‹:
2026-02-16-implement-model-pull-command.md
2026-02-17-refactor-engine-adapter.md
2026-02-18-add-gateway-http-adapter.md
```

### 9.4 ä¸Šä¸‹æ–‡ç»§æ‰¿

æ–°ä»»åŠ¡å¼€å§‹æ—¶ï¼Œé˜…è¯»ç›¸å…³çš„å†å²æ—¥å¿—ï¼š

```bash
# æŸ¥çœ‹ç‰¹å®šé¢†åŸŸçš„æ—¥å¿—
ls .ai/development-log/*model*.md

# æŸ¥çœ‹æœ€è¿‘çš„æ—¥å¿—
ls -lt .ai/development-log/ | head -10

# é˜…è¯»ç‰¹å®šæ—¥å¿—
cat .ai/development-log/2026-02-16-implement-model-pull-command.md
```

---

## 10. Git æäº¤è§„èŒƒ

### 10.1 æäº¤æ—¶æœº

å®Œæˆä¸€ä¸ªå®Œæ•´åŠŸèƒ½å•å…ƒåæäº¤ï¼ŒåŒ…æ‹¬ï¼š
- å®ç°ä»£ç 
- æµ‹è¯•ä»£ç 
- ç›¸å…³æ–‡æ¡£æ›´æ–°

**ä¸è¦**é¢‘ç¹æäº¤å°æ”¹åŠ¨ï¼Œ**ä¸è¦**æäº¤æœªå®Œæˆçš„åŠŸèƒ½ã€‚

### 10.2 Commit Message æ ¼å¼

```
<type>(<scope>): <subject>

[å¯é€‰: body]

[å¯é€‰: footer]
```

### 10.3 Type ç±»å‹

| Type | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| feat | æ–°åŠŸèƒ½ | feat(model): add model.pull command |
| fix | ä¿®å¤ bug | fix(engine): handle nil pointer in Start |
| refactor | é‡æ„ | refactor(gateway): simplify request routing |
| test | æµ‹è¯•ç›¸å…³ | test(unit): add tests for PullCommand |
| docs | æ–‡æ¡£æ›´æ–° | docs: update AGENTS.md with new guidelines |
| chore | æ„å»º/å·¥å…· | chore: update go.mod dependencies |

### 10.4 Scope å‚è€ƒ

| Scope | è¯´æ˜ |
|-------|------|
| unit | åŸå­å•å…ƒç›¸å…³ |
| model, engine, device... | ç‰¹å®šé¢†åŸŸ |
| gateway | ç½‘å…³ç›¸å…³ |
| workflow | å·¥ä½œæµç›¸å…³ |
| infra | åŸºç¡€è®¾æ–½ |
| docs | æ–‡æ¡£ |

### 10.5 å®Œæ•´ç¤ºä¾‹

```
feat(model): implement model.pull command

- Add PullCommand struct with Ollama/HuggingFace/ModelScope support
- Add progress tracking and cancellation support
- Add input validation and error handling
- Add unit tests with 75% coverage

Implements: model.pull atomic unit
Refs: docs/ARCHITECTURE.md#model-domain
Log: .ai/development-log/2026-02-16-implement-model-pull-command.md
```

---

## 11. ç¦æ­¢äº‹é¡¹

### 11.1 æ¶æ„é”å®š

ğŸš« **ç¦æ­¢ä¿®æ”¹** ä»¥ä¸‹å†…å®¹ï¼š
- `docs/ARCHITECTURE.md` ä¸­çš„æ¥å£å®šä¹‰ï¼ˆCommand/Query/Event/Resourceï¼‰
- `pkg/unit/types.go` ä¸­çš„æ ¸å¿ƒæ¥å£

**å¦‚éœ€ä¿®æ”¹**ï¼Œå¿…é¡»ï¼š
1. åˆ›å»ºæ¶æ„å˜æ›´ææ¡ˆæ–‡æ¡£
2. è¯´æ˜ä¿®æ”¹åŸå› å’Œå½±å“èŒƒå›´
3. ç­‰å¾…ç¡®è®¤åå†ä¿®æ”¹

### 11.2 å¼ºåˆ¶æµç¨‹

ğŸš« **ç¦æ­¢è·³è¿‡** ä»¥ä¸‹æµç¨‹ï¼š

| æµç¨‹ | è¯´æ˜ |
|------|------|
| ä»£ç å®¡æŸ¥ | æ‰€æœ‰ä»£ç å¿…é¡»ç»è¿‡ç‹¬ç«‹æ¨¡å‹å®¡æŸ¥ |
| æµ‹è¯•è¦†ç›– | æ ¸å¿ƒæ¨¡å—å’ŒåŸå­å•å…ƒå¿…é¡»æœ‰æµ‹è¯• |
| å¼€å‘æ—¥å¿— | æ¯ä¸ªåŠŸèƒ½å•å…ƒå¿…é¡»æœ‰æ—¥å¿—è®°å½• |
| ä»£ç æ ¼å¼åŒ– | æäº¤å‰å¿…é¡»è¿è¡Œ `go fmt` |

### 11.3 ä»£ç è§„èŒƒç¦æ­¢

ğŸš« **ç¦æ­¢**ï¼š

| ç¦æ­¢é¡¹ | åŸå›  |
|--------|------|
| æäº¤æœªæ ¼å¼åŒ–çš„ä»£ç  | `go fmt` æ˜¯å¼ºåˆ¶è¦æ±‚ |
| æäº¤æœ‰ vet è­¦å‘Šçš„ä»£ç  | `go vet` å¿…é¡»é€šè¿‡ |
| ä½¿ç”¨ `any` ç±»å‹è€Œä¸åŠ æ³¨é‡Š | é™ä½ä»£ç å¯è¯»æ€§ |
| ç¡¬ç¼–ç é…ç½®å€¼ | åº”ä½¿ç”¨é…ç½®æ–‡ä»¶ |
| åœ¨å¾ªç¯ä¸­åˆ›å»ºé—­åŒ…è€Œä¸å¤„ç†å˜é‡ | å¸¸è§ bug æ¥æº |
| å¿½ç•¥é”™è¯¯è¿”å›å€¼ | å¿…é¡»å¤„ç†é”™è¯¯ |

### 11.4 å®‰å…¨ç›¸å…³ç¦æ­¢

ğŸš« **ç¦æ­¢**ï¼š

| ç¦æ­¢é¡¹ | è¯´æ˜ |
|--------|------|
| æäº¤æ•æ„Ÿä¿¡æ¯ | å¯†é’¥ã€å¯†ç ã€token ç­‰ |
| ä½¿ç”¨ä¸å®‰å…¨çš„éšæœºæ•°ç”Ÿæˆ | å®‰å…¨åœºæ™¯ç”¨ `crypto/rand` |
| ç›´æ¥æ‰§è¡Œç”¨æˆ·è¾“å…¥çš„å‘½ä»¤ | å‘½ä»¤æ³¨å…¥é£é™© |
| è®°å½•æ•æ„Ÿä¿¡æ¯åˆ°æ—¥å¿— | ä¿¡æ¯æ³„éœ²é£é™© |

---

## 12. å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### 12.1 å¼€å‘å‘½ä»¤

```bash
# ä»£ç æ ¼å¼åŒ–
go fmt ./...

# é™æ€æ£€æŸ¥
go vet ./...

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
go test ./...

# è¿è¡ŒæŒ‡å®šåŒ…æµ‹è¯•
go test ./pkg/unit/model/...

# è¿è¡Œæµ‹è¯•ï¼ˆå¸¦è¦†ç›–ç‡ï¼‰
go test -cover ./pkg/unit/...

# è¿è¡Œæµ‹è¯•ï¼ˆè¯¦ç»†è¾“å‡ºï¼‰
go test -v ./pkg/unit/model/...

# æ„å»ºé¡¹ç›®
go build ./cmd/aima/...
```

### 12.2 æ–‡æ¡£å‘½ä»¤

```bash
# æŸ¥çœ‹æ¶æ„æ–‡æ¡£
cat docs/ARCHITECTURE.md

# æŸ¥çœ‹é¢†åŸŸæ˜ å°„è¡¨
cat docs/reference/migration/domain-mapping.md

# æŸ¥çœ‹ç‰¹å®šé¢†åŸŸæ–‡æ¡£
cat docs/reference/domain/model.md

# æŸ¥çœ‹å¼€å‘æ—¥å¿—
ls -lt .ai/development-log/

# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
cat $(ls -t .ai/development-log/*.md | head -1)
```

### 12.3 Git å‘½ä»¤

```bash
# æŸ¥çœ‹çŠ¶æ€
git status

# æŸ¥çœ‹æœ€è¿‘æäº¤
git log --oneline -10

# æäº¤ä»£ç 
git add .
git commit -m "feat(model): implement model.pull command"
```

---

## é™„å½• A: å¿«é€Ÿå‚è€ƒå¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¿«é€Ÿå‚è€ƒå¡                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŸå­å•å…ƒå‘½å: {domain}.{action}                            â”‚
â”‚ æµ‹è¯•ç­–ç•¥:     æ ¸å¿ƒ TDDï¼Œéæ ¸å¿ƒåç½®                         â”‚
â”‚ å®¡æŸ¥æ—¶æœº:     åŠŸèƒ½å®Œæˆåï¼ˆGLM-5/Claudeï¼‰                   â”‚
â”‚ æäº¤æ—¶æœº:     åŠŸèƒ½å•å…ƒå®Œæˆå                               â”‚
â”‚ æ—¥å¿—ä½ç½®:     .ai/development-log/                         â”‚
â”‚ æ¶æ„æ–‡æ¡£:     é”å®šï¼Œä¸å¯ä¿®æ”¹                               â”‚
â”‚ ä»£ç æ ¼å¼åŒ–:   æäº¤å‰å¿…é¡» go fmt                            â”‚
â”‚ æµ‹è¯•å‘½ä»¤:     go test ./...                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¿…è¯»æ–‡æ¡£:                                                  â”‚
â”‚ 1. docs/ARCHITECTURE.md                                   â”‚
â”‚ 2. docs/reference/migration/domain-mapping.md             â”‚
â”‚ 3. docs/reference/domain/{domain}.md                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é™„å½• B: é—®é¢˜å‡çº§

å½“é‡åˆ°ä»¥ä¸‹æƒ…å†µï¼Œåº”åœ¨æ—¥å¿—ä¸­æ ‡è®° `âš ï¸ NEEDS_ATTENTION` å¹¶è¯¦ç»†æè¿°ï¼š

| æƒ…å†µ | è¯´æ˜ |
|------|------|
| å¤šæ¬¡å°è¯•å¤±è´¥ | å°è¯• 5 æ¬¡ä»¥ä¸Šä»æœªè§£å†³çš„é—®é¢˜ |
| æ¶æ„å†²çª | æ¶æ„è®¾è®¡ä¸å®é™…éœ€æ±‚å†²çª |
| å¤ç”¨é—®é¢˜ | ASMS ä»£ç æ— æ³•å¤ç”¨æˆ–è¡Œä¸ºå¼‚å¸¸ |
| å®‰å…¨é—®é¢˜ | å‘ç°æ½œåœ¨å®‰å…¨æ¼æ´ |
| æ€§èƒ½é—®é¢˜ | å‘ç°ä¸¥é‡æ€§èƒ½ç“¶é¢ˆ |

å‡çº§æ ¼å¼ï¼š
```markdown
## âš ï¸ NEEDS_ATTENTION

**é—®é¢˜ç±»å‹**: [ç±»å‹]
**è¯¦ç»†æè¿°**: [æè¿°]
**å·²å°è¯•æ–¹æ¡ˆ**: [æ–¹æ¡ˆåˆ—è¡¨]
**å»ºè®®æ–¹å‘**: [å»ºè®®]
```

---

## é™„å½• C: é¡¹ç›®é‡Œç¨‹ç¢‘

| é˜¶æ®µ | å†…å®¹ | çŠ¶æ€ |
|------|------|------|
| Phase 1 | æ ¸å¿ƒæ¡†æ¶ï¼ˆtypes, registry, schemaï¼‰ | âœ… å®Œæˆ |
| Phase 2 | æ ¸å¿ƒé¢†åŸŸ (device, model, engine, inference) | âœ… å®Œæˆ |
| Phase 3 | é€‚é…å™¨ï¼ˆHTTP, MCP, gRPC, CLIï¼‰ | âœ… å®Œæˆ |
| Phase 4 | å…¶ä»–é¢†åŸŸ (resource, service, app, alert, remote) | âœ… å®Œæˆ |
| Phase 5 | ç¼–æ’å±‚ (Workflow DSL + Templates) | âœ… å®Œæˆ |
| Phase 6 | Catalog é¢†åŸŸ (ç¡¬ä»¶æœ€ä½³å®è·µ + ä¸€é”®éƒ¨ç½²) | å¾…å¼€å§‹ |
| Phase 7 | Skill é¢†åŸŸ (AI Agent æŠ€èƒ½çŸ¥è¯†åº“) | å¾…å¼€å§‹ |
| Phase 8 | Agent é¢†åŸŸ (AI Agent Operator) | å¾…å¼€å§‹ |

è¯¦ç»†è®¡åˆ’è§: `docs/ARCHITECTURE.md`

---

## é™„å½• D: AI Agent Operator å¼€å‘æŒ‡å—

Agent Operator æ˜¯ AIMA çš„æ ¸å¿ƒåˆ›æ–° â€” ä¸€ä¸ªå¯é…ç½® LLM åç«¯çš„ AI ä»£ç†ï¼Œé€šè¿‡ MCP Tools è‡ªåŠ¨æ“ä½œ AIMA å¹³å°ã€‚

### å…³é”®è®¾è®¡å†³ç­–

| å†³ç­– | é€‰æ‹© | ç†ç”± |
|------|------|------|
| Tool æ‰§è¡Œè·¯å¾„ | å¤ç”¨ `MCPAdapter.ExecuteTool()` | ä¸å¤–éƒ¨ MCP å®¢æˆ·ç«¯èµ°ç›¸åŒè·¯å¾„ï¼Œç¡®ä¿æƒé™ä¸€è‡´ |
| LLM å®¢æˆ·ç«¯ | æ¥å£ + 3 ä¸ªå®ç° (Anthropic/OpenAI/Ollama) | Anthropic API æ ¼å¼ä¸å…¼å®¹ OpenAIï¼Œéœ€ç‹¬ç«‹é€‚é…å™¨ |
| Skills ä½œä¸ºåŸå­å•å…ƒ | æ–° `skill` é¢†åŸŸ | Agent å¯é€šè¿‡ Tool è°ƒç”¨ç®¡ç†è‡ªå·±çš„æŠ€èƒ½ |
| Agent ä½œä¸ºåŸå­å•å…ƒ | æ–° `agent` é¢†åŸŸ | Agent å¯è¢«å¤–éƒ¨ MCP å®¢æˆ·ç«¯è°ƒç”¨ |

### æ–°é¢†åŸŸ Scope å‚è€ƒ

| Scope | è¯´æ˜ |
|-------|------|
| catalog | ç¡¬ä»¶ Recipe ç®¡ç† |
| agent | AI Agent ä»£ç† |
| skill | Agent æŠ€èƒ½ç®¡ç† |

---

*æœ¬æ–‡æ¡£ç”± AI Agent éµå¾ªï¼Œç¡®ä¿å¼€å‘ä¸€è‡´æ€§å’Œè´¨é‡ã€‚*
*æœ€åæ›´æ–°: 2026-02-20*
