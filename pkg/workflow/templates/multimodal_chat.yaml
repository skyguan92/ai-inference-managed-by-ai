name: multimodal_chat
description: 多模态对话 - Multimodal chat with image and text understanding

config:
  vlm_model: "llava"
  llm_model: "llama3.2"

steps:
  - id: analyze_image
    type: inference.describe
    input:
      model: "${config.vlm_model}"
      image: "${input.image}"
  
  - id: chat
    type: inference.chat
    input:
      model: "${config.llm_model}"
      messages:
        - role: user
          content: "图片内容: ${steps.analyze_image.description}\n${input.question}"
    depends_on:
      - analyze_image

output:
  response: "${steps.chat.response.content}"
